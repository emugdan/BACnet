{% extends "socialgraph/base.html" %}

{% block searchBar %}

    <div class="input-group input-group-sm">
        <input type="text" class="form-control" id="searchInput" placeholder="" aria-label="Search Input"
               aria-describedby="basic-addon2">
        <div class="input-group-append">
            <button class="btn" id="searchBtn" type="button">Search</button>
        </div>
    </div>




{% endblock %}


{% block content %}
<div class="container">
        <div class="content-section">
            <div class="media">
                <div class="media-body">
                    <h2 class="follow-heading"></h2>
                    <div class="follow-heading-text">  The following people might be interesting for you:.</div>
                </div>
            </div>
        </div>
    </div>


<div style="text-align: center;">
  <input type="text" id="searchbox"  value = "" placeholder="Search users" name = "name">
    <button onclick="callPythonFunction()">Click me</button>
</div>

<p id="demo"></p>




 <div class="col-md-8">
        <div class="row">
            <div class="col-md-6">


    <div>
        <h6 class="p-1 border-bottom">Filter By</h6>
        <p class="mb-2">Gender</p>
        <ul class="list-group">
            <li class="list-group-item list-group-item-action mb-2 rounded"  id = "GenderFemale" value = "female" onclick = genderBasedFilter("female")> <span class="fa fa-circle pr-1" ></span>Female </li>
            <li class="list-group-item list-group-item-action mb-2 rounded" id = "GenderMale" value = "male" onclick = genderBasedFilter("male")> <span class="fa fa-circle pr-1" id="male"></span>Male </li>
             <li class="list-group-item list-group-item-action mb-2 rounded" id = "ResetButton" value = "reset" onclick = genderBasedFilter("")> <span class="fa fa-circle pr-1" id="reset"></span>Reset </li>
        </ul>
    </div>


            </div>
            <div class="col-md-6">
                {% include "./FollowBody.html" %}
            </div>
        </div>





</div>
</div>

<script>
function myFunction() {
  document.getElementById("demo").innerHTML = document.getElementById("searchbox").value;
}

// MAKE AN AJAX CALL TO VIEWS.PY
        function callPythonFunction() {

            var text = "nq" +document.getElementById("searchbox").value;
            alert(text)


            $.ajax({

                type: "POST",
                url: '{{ '' }}',
                async: false,
                data: {csrfmiddlewaretoken: '{{ csrf_token }}', text: text},
                success: function (response){
                    $('#test').html('').replaceWith(response)

                }

            });

        }


         function genderBasedFilter(value) {

             var gender = value;


            $.ajax({

                type: "POST",
                url: '{{ '' }}',
                async: false,
                data: {csrfmiddlewaretoken: '{{ csrf_token }}', text: gender},
                success: function (response){
                    $('#test').html('').replaceWith(response)

                }

            });

        }
</script>


{% endblock content %}